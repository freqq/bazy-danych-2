description 'sm-frontend'

task prepareDev(type: Copy) {
    from '.'
    into "${project.buildDir}/dev"
    exclude 'build/**', '.gradle/**', 'coverage/**', 'k8s/**', 'node_modules/.cache/**', 'build.gradle'
}

task yarnInstall(type: YarnTask) {
    args = ['install']
}

task yarnStartDev(type: YarnTask, dependsOn: 'yarnInstall') {
    args = ['start']
}

task yarnBuild(type: YarnTask, dependsOn: 'yarnInstall') {
    args = ['build']
}

check.dependsOn yarnLint
test.dependsOn yarnTest
build.dependsOn yarnBuild